<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta content="width=device-width, initial-scale=1" name="viewport">
    <link crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
          integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css" rel="stylesheet">
    <link rel="stylesheet" th:href="@{/css/category.css}"/>
    <title>Tripcok - Admin</title>
</head>
<body>
<div class="container">
    <!-- Navigation -->
    <div class="navigation-container">
        <div style="height:100%" th:insert="~{fragments/menu :: menu-list}"></div>
    </div>

    <!-- Main Content -->
    <div class="content-container">
        <div class="content-header d-flex justify-content-between align-items-center">
            <h1>View Category</h1>
            <div class="logo-container">
                <p>Trip</p>
                <p style="color: #6DB777">Cok</p>
            </div>
        </div>

        <div class="content-search">
            <div>
                <p>Add Category</p>
            </div>
        </div>

        <div class="category-left">
            <div class="category-button">
                <div class="category-button1">
                    <button class="btn btn-cate1" type="button" data-target="category-content-1">대분류</button>
                </div>
                <div class="category-button2">
                    <button class="btn btn-cate2" type="button" data-target="category-content-2">중분류</button>
                </div>
                <div class="category-button3">
                    <button class="btn btn-cate3" type="button" data-target="category-content-3">소분류</button>
                </div>
            </div>

            <!-- 대분류 컨텐츠 -->
            <div class="category-content" id="category-content-1">
                <ul class="category-list">
                    <li>산</li>
                    <li>바다</li>
                    <li>음식</li>
                </ul>
                <div class="category-add-section">
                    <div class="category-add-wrapper">
                        <div class="category-add">
                            <label class="add-category-box">
                                <input class="add-category" type="text" placeholder="대분류 추가">
                            </label>
                        </div>
                        <div class="submit-add-box">
                            <button class="submit-button" type="submit" data-category="1">추가</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 중분류 컨텐츠 -->
            <div class="category-content" id="category-content-2">
                <ul class="category-list">
                    <li>산</li>
                    <li>바다</li>
                </ul>
                <div class="category-add-section">
                    <div class="category-add">
                        <label class="add-category-box">
                            <input class="add-category" type="text" placeholder="중분류 추가">
                        </label>
                    </div>
                    <div class="submit-add-box">
                        <button class="submit-button" type="submit" data-category="2">추가</button>
                    </div>
                </div>
            </div>

            <!-- 소분류 컨텐츠 -->
            <div class="category-content" id="category-content-3">
                <ul class="category-list">
                    <li>바다</li>
                    <li>산</li>
                </ul>
                <div class="category-add-section">
                    <div class="category-add">
                        <label class="add-category-box">
                            <input class="add-category" type="text" placeholder="소분류 추가">
                        </label>
                    </div>
                    <div class="submit-add-box">
                        <button class="submit-button" type="submit" data-category="3">추가</button>
                    </div>
                </div>
            </div>
        </div>

    </div>


</div>

<script>
    document.querySelectorAll('.category-button button').forEach(button => {
        button.addEventListener('click', () => {
            const targetId = button.getAttribute('data-target');
            const targetContent = document.getElementById(targetId);

            // 다른 카테고리 컨텐츠 숨기기
            document.querySelectorAll('.category-content').forEach(content => {
                if (content !== targetContent) {
                    content.classList.remove('active');
                }
            });

            // 클릭한 버튼에 해당하는 컨텐츠 표시/숨기기
            if (targetContent) {
                targetContent.classList.toggle('active');
            }
        });
    });

    document.querySelectorAll('.submit-button').forEach(button => {
        button.addEventListener('click', (event) => {
            const categoryType = button.getAttribute('data-category'); // 대분류(1), 중분류(2), 소분류(3)
            const input = button.closest('.category-add-section').querySelector('.add-category');
            const newCategory = input.value.trim();

            if (newCategory) {
                // 해당 카테고리 리스트에 새 항목 추가
                const categoryList = document.querySelector(`#category-content-${categoryType} .category-list`);
                const listItem = document.createElement('li');
                listItem.textContent = newCategory;
                categoryList.appendChild(listItem);

                // 입력 필드 초기화
                input.value = '';
                alert(`${newCategory}이(가) 추가되었습니다.`);
            } else {
                alert('카테고리를 입력하세요.');
            }
        });
    });
</script>

        
</body>
</html>